---
interface Technology {
	name: string;
	icon: string;
	link: string;
}

interface Props {
	title: string;
	description: string;
	icon: string;
	link: string;
	technologies: Technology[];
}

const { title, description, icon, link, technologies } = Astro.props;
---

<li class="project-card">
	<div class="project-head">
		<img src={icon} alt="Project Icon" class="project-icon" />
		<h3>{title}</h3>
		<a href={link} class="project-link">
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="40"
				height="40"
				viewBox="0 0 24 24"
				><path
					fill="none"
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M15 8h2c1.333 0 4 .8 4 4s-2.667 4-4 4h-2M9 8H7c-1.333 0-4 .8-4 4s2.667 4 4 4h2m-1-4h8"
				></path></svg
			>
		</a>
	</div>
	<div class="project-info">
		<p>{description}</p>
	</div>
	<ul class="technologies-list">
		{
			technologies.map((tech) => (
				<li class="technology-card">
					<a href={tech.link} target="_blank" rel="noopener noreferrer">
						<img
							src={tech.icon}
							alt={`${tech.name} Icon`}
							class="technology-icon"
						/>
						<span>{tech.name}</span>
					</a>
				</li>
			))
		}
	</ul>
</li>

<style>
	@media (max-width: 500px) {
		.project-info p {
			display: none;
		}
	}

	.project-card {
		display: flex;
		flex-direction: column;
		max-height: 200px;
		max-width: 500px;
		padding: 10px;
		list-style: none;
		outline: solid var(--md-primary) 1px;
	}

	.project-card:hover {
		outline-color: var(--primary);
	}

	.project-head {
		display: flex;
		align-items: center;
	}

	.project-icon {
		height: 50px;
		width: 50px;
		margin-right: 10px;
		fill: var(--md-primary);
		transition: fill 0.3s ease;
	}

	.project-card:hover .project-icon {
		fill: var(--primary);
	}

	.project-info {
		display: flex;
		flex-direction: column;
	}

	.project-link {
		display: grid;
		place-items: center;

		margin-left: auto;
		text-decoration: none;
		color: inherit;
	}

	.project-link svg {
		margin: 0;
		padding: 0;
		stroke: var(--md-primary);
		transition: all 0.3s ease;
	}

	.project-link:hover svg {
		stroke: var(--md-on-primary-container);
	}

	.technologies-list {
		display: flex;
		flex-wrap: wrap;
		margin: auto 0 0 auto;
		padding: 0;
		padding-top: 10px;
		list-style: none;
		gap: 10px;
	}

	.technology-card {
		display: flex;
		align-items: center;
		padding: 5px;
		border: 1px solid var(--md-primary);
		transition: border-color 0.3s ease;
	}

	.technology-card:hover {
		border-color: var(--md-on-primary-container);
	}

	.technology-icon {
		height: 20px;
		width: 20px;
		margin-right: 5px;
	}

	.technology-card a {
		display: flex;
		align-items: center;
		text-decoration: none;
		color: inherit;
	}
</style>
